import{a4 as e,c as s,q as a,o as t,w as r,a as i,i as n,n as o,v as l,r as c,a5 as d,e as h,f as u,J as w,j as m,g as p,k as f,F as _,p as y,ae as k,u as b,d as g,t as v}from "./index-B7Dt8O4Z.js";import{_ as D,r as T,a as S}from "./uni-app.es.CJ55vtPu.js";const A=D({name:"UniDrawer",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(s=>{if(this.disable)return;const a=Object.keys(e).find((a=>{const t=s.key,r=e[a];return r===t||Array.isArray(r)&&r.includes(t)}));a&&setTimeout((()=>{this.$emit(a,{})}),0)}))},render:()=>{}}},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:()=>({visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}),created(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear(){},close(e){("mask"!==e||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change(e, s, a){this[e]=a,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((()=>{this[s]=a,this.$emit("change",a)}),a?50:300)}}},[["render",function(h, u, w, m, p, f){const _=n,y=e("keypress");return p.visibleSync?(t(),s(_,{key:0,class:o([{"uni-drawer--visible":p.showDrawer},"uni-drawer"]),onTouchmove:d(f.clear,["stop","prevent"])},{default:r((()=>[i(_,{class:o(["uni-drawer__mask",{"uni-drawer__mask--visible":p.showDrawer&&w.mask}]),onClick:u[0]||(u[0]= e=>f.close("mask"))},null,8,["class"]),i(_,{class:o(["uni-drawer__content",{"uni-drawer--right":p.rightMode,"uni-drawer--left":!p.rightMode,"uni-drawer__content--visible":p.showDrawer}]),style:l({width:p.drawerWidth+"px"})},{default:r((()=>[c(h.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),i(y,{onEsc:u[1]||(u[1]= e=>f.close("mask"))})])),_:3},8,["class","onTouchmove"])):a("",!0)}],["__scopeId","data-v-0522f2c7"]]),E=D(h({__name:"my-menu-bar",setup(e){const s=u(),a=w(),n=a[a.length-1].route.split("/")[1],o={host:"主机信息",user:"用户",patrol:"巡检记录",database:"数据库"};function l(){s.value.open()}return(e, a)=>{const c=T(m("uni-icons"),S),d=f,h=k,u=T(m("uni-drawer"),A);return t(),p(_,null,[i(d,{onClick:l,id:"show"},{default:r((()=>[i(c,{type:"right",size:"30"})])),_:1}),i(u,{ref_key:"showLeft",ref:s},{default:r((()=>[(t(),p(_,null,y(o,((e, s)=>i(h,{class:"menu",url:s},{default:r((()=>[i(d,{id:(s==b(n)&&"current").toString()},{default:r((()=>[g(v(e),1)])),_:2},1032,["id"])])),_:2},1032,["url"]))),64))])),_:1},512)],64)}}}),[["__scopeId","data-v-6da0db24"]]);export{E as _};
